
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Word Cloud - Qualia</title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jasondavies/d3-cloud/build/d3.layout.cloud.js"></script>
    <style>
        body {
            font-family: sans-serif;
            background-color: white;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        #wordcloud {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .word {
            cursor: pointer;
            transition: opacity 0.3s;
        }
        .word:hover {
            opacity: 0.7;
        }
        #tooltip {
            position: absolute;
            padding: 8px 12px;
            background: rgba(0,0,0,0.8);
            color: white;
            border-radius: 4px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body>
    <div id="wordcloud"></div>
    <div id="tooltip"></div>
    
    <script>
        // Dados
        var words = {"sistema": 2, "recording": 1, "started": 1, "jo\u00e3o": 2, "silva": 2, "pessoal": 1, "vamos": 1, "come\u00e7ar": 1, "maria": 3, "santos": 3, "tenho": 1, "dados": 1, "aqui": 1, "\u00f3timo": 1, "pode": 1, "compartilhar": 1, "presenting": 1, "como": 1, "podem": 1, "gr\u00e1fico": 1};
        
        // Configurações
        var width = 1000;
        var height = 600;
        var maxWords = 100;
        
        // Cores
        var color = d3.scale.category20();
        
        // Preparar dados
        var wordEntries = Object.entries(words)
            .sort((a, b) => b[1] - a[1])
            .slice(0, maxWords)
            .map(([text, size]) => ({
                text: text,
                size: size,
                originalSize: size
            }));
        
        // Escala de tamanhos
        var maxSize = Math.max(...wordEntries.map(d => d.size));
        var minSize = Math.min(...wordEntries.map(d => d.size));
        var sizeScale = d3.scale.linear()
            .domain([minSize, maxSize])
            .range([20, 100]);
        
        // Layout
        var layout = d3.layout.cloud()
            .size([width, height])
            .words(wordEntries)
            .padding(5)
            .rotate(() => (Math.random() - 0.5) * 60)
            .font("sans-serif")
            .fontSize(d => sizeScale(d.size))
            .on("end", draw);
        
        layout.start();
        
        // Desenhar
        function draw(words) {
            d3.select("#wordcloud").append("svg")
                .attr("width", width)
                .attr("height", height)
                .append("g")
                .attr("transform", "translate(" + width/2 + "," + height/2 + ")")
                .selectAll("text")
                .data(words)
                .enter().append("text")
                .attr("class", "word")
                .style("font-size", d => d.size + "px")
                .style("font-family", "sans-serif")
                .style("fill", (d, i) => color(i))
                .attr("text-anchor", "middle")
                .attr("transform", d => "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")")
                .text(d => d.text)
                .on("mouseover", function(d) {
                    var tooltip = d3.select("#tooltip");
                    tooltip.style("opacity", 1)
                        .html(d.text + ": " + d.originalSize)
                        .style("left", (d3.event.pageX + 10) + "px")
                        .style("top", (d3.event.pageY - 10) + "px");
                })
                .on("mouseout", function() {
                    d3.select("#tooltip").style("opacity", 0);
                });
        }
    </script>
</body>
</html>
        